{"ast":null,"code":"import{createSlice}from'@reduxjs/toolkit';// ðŸ›ï¸ Initial state of the cart\nconst initialState={items:{},// each item will be stored as { productId: { product, quantity } }\ntotalQuantity:0,// total items in the cart\ntotalPrice:0// total cost of all items\n};// â™»ï¸ Function to recalculate total quantity and price after each update\nconst recalcTotals=state=>{let totalQty=0;let totalCost=0;// Loop through all cart items to calculate totals\nObject.values(state.items).forEach(_ref=>{let{product,quantity}=_ref;totalQty+=quantity;totalCost+=product.price*quantity;});state.totalQuantity=totalQty;state.totalPrice=Number(totalCost.toFixed(2));// rounded to 2 decimals\n};// ðŸ§  Slice defines reducers (actions that modify cart state)\nconst cartSlice=createSlice({name:'cart',initialState,reducers:{// âž• Add a product to the cart\naddToCart:(state,action)=>{const product=action.payload;if(!state.items[product.id]){state.items[product.id]={product,quantity:1};}recalcTotals(state);},// â¬†ï¸ Increase item quantity\nincrease:(state,action)=>{const id=action.payload;if(state.items[id]){state.items[id].quantity+=1;}recalcTotals(state);},// â¬‡ï¸ Decrease item quantity (remove if quantity = 0)\ndecrease:(state,action)=>{const id=action.payload;if(!state.items[id])return;state.items[id].quantity-=1;if(state.items[id].quantity<=0){delete state.items[id];}recalcTotals(state);},// âŒ Remove an item completely\nremoveItem:(state,action)=>{const id=action.payload;delete state.items[id];recalcTotals(state);},// ðŸ§¹ Clear entire cart\nclearCart:state=>{state.items={};state.totalQuantity=0;state.totalPrice=0;}}});// Export actions and reducer\nexport const{addToCart,increase,decrease,removeItem,clearCart}=cartSlice.actions;export default cartSlice.reducer;","map":{"version":3,"names":["createSlice","initialState","items","totalQuantity","totalPrice","recalcTotals","state","totalQty","totalCost","Object","values","forEach","_ref","product","quantity","price","Number","toFixed","cartSlice","name","reducers","addToCart","action","payload","id","increase","decrease","removeItem","clearCart","actions","reducer"],"sources":["C:/Users/SARVESH/green-leaf-houseplants/src/features/cart/cartSlice.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\r\n\r\n// ðŸ›ï¸ Initial state of the cart\r\nconst initialState = {\r\n  items: {}, // each item will be stored as { productId: { product, quantity } }\r\n  totalQuantity: 0, // total items in the cart\r\n  totalPrice: 0, // total cost of all items\r\n};\r\n\r\n// â™»ï¸ Function to recalculate total quantity and price after each update\r\nconst recalcTotals = (state) => {\r\n  let totalQty = 0;\r\n  let totalCost = 0;\r\n\r\n  // Loop through all cart items to calculate totals\r\n  Object.values(state.items).forEach(({ product, quantity }) => {\r\n    totalQty += quantity;\r\n    totalCost += product.price * quantity;\r\n  });\r\n\r\n  state.totalQuantity = totalQty;\r\n  state.totalPrice = Number(totalCost.toFixed(2)); // rounded to 2 decimals\r\n};\r\n\r\n// ðŸ§  Slice defines reducers (actions that modify cart state)\r\nconst cartSlice = createSlice({\r\n  name: 'cart',\r\n  initialState,\r\n  reducers: {\r\n    // âž• Add a product to the cart\r\n    addToCart: (state, action) => {\r\n      const product = action.payload;\r\n      if (!state.items[product.id]) {\r\n        state.items[product.id] = { product, quantity: 1 };\r\n      }\r\n      recalcTotals(state);\r\n    },\r\n\r\n    // â¬†ï¸ Increase item quantity\r\n    increase: (state, action) => {\r\n      const id = action.payload;\r\n      if (state.items[id]) {\r\n        state.items[id].quantity += 1;\r\n      }\r\n      recalcTotals(state);\r\n    },\r\n\r\n    // â¬‡ï¸ Decrease item quantity (remove if quantity = 0)\r\n    decrease: (state, action) => {\r\n      const id = action.payload;\r\n      if (!state.items[id]) return;\r\n\r\n      state.items[id].quantity -= 1;\r\n      if (state.items[id].quantity <= 0) {\r\n        delete state.items[id];\r\n      }\r\n      recalcTotals(state);\r\n    },\r\n\r\n    // âŒ Remove an item completely\r\n    removeItem: (state, action) => {\r\n      const id = action.payload;\r\n      delete state.items[id];\r\n      recalcTotals(state);\r\n    },\r\n\r\n    // ðŸ§¹ Clear entire cart\r\n    clearCart: (state) => {\r\n      state.items = {};\r\n      state.totalQuantity = 0;\r\n      state.totalPrice = 0;\r\n    },\r\n  },\r\n});\r\n\r\n// Export actions and reducer\r\nexport const { addToCart, increase, decrease, removeItem, clearCart } = cartSlice.actions;\r\nexport default cartSlice.reducer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}